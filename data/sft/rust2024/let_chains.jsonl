{"instruction": "Refactor this Rust code to use let chains (Rust 2024 idiom).", "input": "fn process(a: Option<i32>, b: Option<i32>) -> Option<i32> {\n    if let Some(x) = a {\n        if let Some(y) = b {\n            if x > 0 && y > 0 {\n                return Some(x + y);\n            }\n        }\n    }\n    None\n}\n\nfn main() {\n    println!(\"{:?}\", process(Some(3), Some(4)));\n    println!(\"{:?}\", process(Some(-1), Some(4)));\n    println!(\"{:?}\", process(None, Some(4)));\n}", "output": "fn process(a: Option<i32>, b: Option<i32>) -> Option<i32> {\n    if let Some(x) = a && let Some(y) = b && x > 0 && y > 0 {\n        return Some(x + y);\n    }\n    None\n}\n\nfn main() {\n    println!(\"{:?}\", process(Some(3), Some(4)));\n    println!(\"{:?}\", process(Some(-1), Some(4)));\n    println!(\"{:?}\", process(None, Some(4)));\n}", "pattern": "let_chains", "error_hint": "Nested if-let can be simplified with let chains in Rust 2024"}
{"instruction": "Refactor this Rust code to use let chains (Rust 2024 idiom).", "input": "use std::collections::HashMap;\n\nfn lookup(map: &HashMap<String, Vec<String>>, key: &str, idx: usize) -> Option<String> {\n    if let Some(values) = map.get(key) {\n        if let Some(item) = values.get(idx) {\n            if !item.is_empty() {\n                return Some(item.clone());\n            }\n        }\n    }\n    None\n}\n\nfn main() {\n    let mut map = HashMap::new();\n    map.insert(\"greetings\".to_string(), vec![\"hello\".to_string(), \"hi\".to_string()]);\n    println!(\"{:?}\", lookup(&map, \"greetings\", 0));\n}", "output": "use std::collections::HashMap;\n\nfn lookup(map: &HashMap<String, Vec<String>>, key: &str, idx: usize) -> Option<String> {\n    if let Some(values) = map.get(key) && let Some(item) = values.get(idx) && !item.is_empty() {\n        return Some(item.clone());\n    }\n    None\n}\n\nfn main() {\n    let mut map = HashMap::new();\n    map.insert(\"greetings\".to_string(), vec![\"hello\".to_string(), \"hi\".to_string()]);\n    println!(\"{:?}\", lookup(&map, \"greetings\", 0));\n}", "pattern": "let_chains", "error_hint": "Nested if-let can be simplified with let chains in Rust 2024"}
