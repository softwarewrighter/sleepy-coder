{"instruction": "Fix the Rust 2024 edition compilation error.", "input": "use std::env;\n\nfn setup_environment() {\n    env::set_var(\"RUST_LOG\", \"debug\");\n    env::set_var(\"APP_MODE\", \"development\");\n}\n\nfn main() {\n    setup_environment();\n    println!(\"RUST_LOG={}\", env::var(\"RUST_LOG\").unwrap_or_default());\n}", "output": "use std::env;\n\nfn setup_environment() {\n    unsafe {\n        env::set_var(\"RUST_LOG\", \"debug\");\n        env::set_var(\"APP_MODE\", \"development\");\n    }\n}\n\nfn main() {\n    setup_environment();\n    println!(\"RUST_LOG={}\", env::var(\"RUST_LOG\").unwrap_or_default());\n}", "pattern": "env_var_unsafe", "error_hint": "call to unsafe function `std::env::set_var` is unsafe and requires unsafe block"}
{"instruction": "Fix the Rust 2024 edition compilation error.", "input": "fn main() {\n    std::env::set_var(\"MY_VAR\", \"hello\");\n    let val = std::env::var(\"MY_VAR\").unwrap();\n    println!(\"{}\", val);\n    std::env::remove_var(\"MY_VAR\");\n}", "output": "fn main() {\n    unsafe {\n        std::env::set_var(\"MY_VAR\", \"hello\");\n    }\n    let val = std::env::var(\"MY_VAR\").unwrap();\n    println!(\"{}\", val);\n    unsafe {\n        std::env::remove_var(\"MY_VAR\");\n    }\n}", "pattern": "env_var_unsafe", "error_hint": "call to unsafe function `std::env::set_var` is unsafe and requires unsafe block"}
{"instruction": "Fix the Rust 2024 edition compilation error.", "input": "#[cfg(test)]\nmod tests {\n    use super::*;\n\n    fn setup() {\n        std::env::set_var(\"TEST_DB_URL\", \"sqlite::memory:\");\n    }\n\n    fn teardown() {\n        std::env::remove_var(\"TEST_DB_URL\");\n    }\n\n    #[test]\n    fn test_connection() {\n        setup();\n        let url = std::env::var(\"TEST_DB_URL\").unwrap();\n        assert_eq!(url, \"sqlite::memory:\");\n        teardown();\n    }\n}\n\nfn main() {}", "output": "#[cfg(test)]\nmod tests {\n    use super::*;\n\n    fn setup() {\n        unsafe {\n            std::env::set_var(\"TEST_DB_URL\", \"sqlite::memory:\");\n        }\n    }\n\n    fn teardown() {\n        unsafe {\n            std::env::remove_var(\"TEST_DB_URL\");\n        }\n    }\n\n    #[test]\n    fn test_connection() {\n        setup();\n        let url = std::env::var(\"TEST_DB_URL\").unwrap();\n        assert_eq!(url, \"sqlite::memory:\");\n        teardown();\n    }\n}\n\nfn main() {}", "pattern": "env_var_unsafe", "error_hint": "call to unsafe function `std::env::set_var` is unsafe and requires unsafe block"}
