# Full training configuration for measurable improvement
# Usage: python scripts/train.py --config configs/full_train.yaml

base_model: "Qwen/Qwen2.5-Coder-1.5B-Instruct"

# LoRA - standard settings
lora_r: 16
lora_alpha: 32
lora_dropout: 0.05
target_modules:
  - q_proj
  - k_proj
  - v_proj
  - o_proj

# Training - full run
max_steps: 500
batch_size: 4
gradient_accumulation_steps: 2
learning_rate: 2e-4
warmup_steps: 50
max_seq_length: 2048
weight_decay: 0.01

# Quantization
use_4bit: true
bnb_4bit_compute_dtype: "float16"
bnb_4bit_quant_type: "nf4"

# Checkpointing
save_steps: 100
logging_steps: 10

# Paths (relative to cuda/)
data_path: "../data/sft/train.jsonl"
output_dir: "../runs/adapters"

seed: 42
use_wandb: false
wandb_project: "sleepy-coder"
