{"instruction": "Fix the Rust 2024 edition compilation error.", "input": "extern \"C\" {\n    fn abs(input: i32) -> i32;\n    fn strlen(s: *const u8) -> usize;\n}\n\nfn main() {\n    let result = unsafe { abs(-42) };\n    println!(\"abs(-42) = {}\", result);\n}", "output": "unsafe extern \"C\" {\n    fn abs(input: i32) -> i32;\n    fn strlen(s: *const u8) -> usize;\n}\n\nfn main() {\n    let result = unsafe { abs(-42) };\n    println!(\"abs(-42) = {}\", result);\n}", "pattern": "unsafe_extern_block", "error_hint": "extern blocks must be unsafe"}
{"instruction": "Fix the Rust 2024 edition compilation error.", "input": "extern \"C\" {\n    fn malloc(size: usize) -> *mut u8;\n    fn free(ptr: *mut u8);\n    fn memcpy(dest: *mut u8, src: *const u8, n: usize) -> *mut u8;\n}\n\nfn main() {\n    unsafe {\n        let ptr = malloc(256);\n        if !ptr.is_null() {\n            free(ptr);\n        }\n    }\n}", "output": "unsafe extern \"C\" {\n    fn malloc(size: usize) -> *mut u8;\n    fn free(ptr: *mut u8);\n    fn memcpy(dest: *mut u8, src: *const u8, n: usize) -> *mut u8;\n}\n\nfn main() {\n    unsafe {\n        let ptr = malloc(256);\n        if !ptr.is_null() {\n            free(ptr);\n        }\n    }\n}", "pattern": "unsafe_extern_block", "error_hint": "extern blocks must be unsafe"}
{"instruction": "Fix the Rust 2024 edition compilation error.", "input": "extern \"C\" {\n    fn getenv(name: *const i8) -> *const i8;\n}\n\nextern \"C\" fn callback(x: i32) -> i32 {\n    x * 2\n}\n\nfn main() {\n    println!(\"callback(21) = {}\", callback(21));\n}", "output": "unsafe extern \"C\" {\n    fn getenv(name: *const i8) -> *const i8;\n}\n\nextern \"C\" fn callback(x: i32) -> i32 {\n    x * 2\n}\n\nfn main() {\n    println!(\"callback(21) = {}\", callback(21));\n}", "pattern": "unsafe_extern_block", "error_hint": "extern blocks must be unsafe"}
